2025-04-15 20:21:53,962 +0300 [main] INFO  (Application.java:19) - Application stated!
2025-04-15 20:21:54,222 +0300 [main] INFO  (StartupInfoLogger.java:50) - Starting Application using Java 21.0.6 with PID 6944 (C:\Users\desertfox\IdeaProjects\Lottery-\target\classes started by desertfox in C:\Users\desertfox\IdeaProjects\Lottery-)
2025-04-15 20:21:54,223 +0300 [main] INFO  (SpringApplication.java:654) - No active profile set, falling back to 1 default profile: "default"
2025-04-15 20:21:54,227 +0300 [background-preinit] INFO  (Version.java:21) - HV000001: Hibernate Validator 8.0.1.Final
2025-04-15 20:21:54,611 +0300 [main] INFO  (RepositoryConfigurationDelegate.java:143) - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15 20:21:54,624 +0300 [main] INFO  (RepositoryConfigurationDelegate.java:211) - Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2025-04-15 20:21:54,760 +0300 [main] WARN  (AbstractApplicationContext.java:633) - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Cannot register bean definition [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration; factoryMethodName=flywayInitializer; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]] for bean 'flywayInitializer' since there is already [Generic bean: class [ru.lot.configuration.FlywayInitializer]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null; defined in file [C:\Users\desertfox\IdeaProjects\Lottery-\target\classes\ru\lot\configuration\FlywayInitializer.class]] bound.
2025-04-15 20:21:54,765 +0300 [main] INFO  (ConditionEvaluationReportLogger.java:82) - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-15 20:21:54,779 +0300 [main] ERROR (LoggingFailureAnalysisReporter.java:40) - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'flywayInitializer', defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class], could not be registered. A bean with that name has already been defined in file [C:\Users\desertfox\IdeaProjects\Lottery-\target\classes\ru\lot\configuration\FlywayInitializer.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2025-04-15 20:23:37,959 +0300 [main] INFO  (Application.java:19) - Application stated!
2025-04-15 20:23:38,228 +0300 [main] INFO  (StartupInfoLogger.java:50) - Starting Application using Java 21.0.6 with PID 22208 (C:\Users\desertfox\IdeaProjects\Lottery-\target\classes started by desertfox in C:\Users\desertfox\IdeaProjects\Lottery-)
2025-04-15 20:23:38,229 +0300 [main] INFO  (SpringApplication.java:654) - No active profile set, falling back to 1 default profile: "default"
2025-04-15 20:23:38,230 +0300 [background-preinit] INFO  (Version.java:21) - HV000001: Hibernate Validator 8.0.1.Final
2025-04-15 20:23:38,571 +0300 [main] INFO  (RepositoryConfigurationDelegate.java:143) - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15 20:23:38,585 +0300 [main] INFO  (RepositoryConfigurationDelegate.java:211) - Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-04-15 20:23:39,075 +0300 [main] INFO  (TomcatWebServer.java:111) - Tomcat initialized with port 8089 (http)
2025-04-15 20:23:39,123 +0300 [main] INFO  (ServletWebServerApplicationContext.java:296) - Root WebApplicationContext: initialization completed in 858 ms
2025-04-15 20:23:39,228 +0300 [main] INFO  (HikariDataSource.java:109) - HikariPool-1 - Starting...
2025-04-15 20:23:40,320 +0300 [main] INFO  (LogHelper.java:31) - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15 20:23:40,359 +0300 [main] INFO  (Version.java:44) - HHH000412: Hibernate ORM core version 6.5.2.Final
2025-04-15 20:23:40,376 +0300 [main] INFO  (RegionFactoryInitiator.java:50) - HHH000026: Second-level cache disabled
2025-04-15 20:23:40,535 +0300 [main] INFO  (SpringPersistenceUnitInfo.java:87) - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15 20:23:40,550 +0300 [main] INFO  (HikariDataSource.java:109) - HikariPool-1 - Starting...
2025-04-15 20:23:41,567 +0300 [main] WARN  (JdbcEnvironmentInitiator.java:359) - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:290)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:123)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:77)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:221)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:189)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1502)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at ru.lot.Application.main(Application.java:21)
2025-04-15 20:23:41,587 +0300 [main] WARN  (DialectFactoryImpl.java:153) - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-15 20:23:41,757 +0300 [main] INFO  (JtaPlatformInitiator.java:59) - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15 20:23:41,760 +0300 [main] INFO  (AbstractEntityManagerFactoryBean.java:437) - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15 20:23:41,846 +0300 [main] WARN  (JpaBaseConfiguration.java:236) - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-15 20:23:42,145 +0300 [main] WARN  (UserDetailsServiceAutoConfiguration.java:86) - 

Using generated security password: 4993b601-ec91-4382-93ac-d12cc1ecbfac

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-04-15 20:23:42,169 +0300 [main] INFO  (InitializeUserDetailsBeanManagerConfigurer.java:113) - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-04-15 20:23:42,307 +0300 [main] INFO  (TomcatWebServer.java:243) - Tomcat started on port 8089 (http) with context path '/'
2025-04-15 20:23:42,313 +0300 [main] INFO  (StartupInfoLogger.java:56) - Started Application in 4.299 seconds (process running for 4.506)
2025-04-15 20:23:42,426 +0300 [main] INFO  (Slf4jLog.java:37) - Flyway OSS Edition 10.1.0 by Redgate
2025-04-15 20:23:42,426 +0300 [main] INFO  (Slf4jLog.java:37) - 
2025-04-15 20:23:42,426 +0300 [main] INFO  (Slf4jLog.java:37) - See release notes here: https://rd.gt/416ObMi
2025-04-15 20:23:44,357 +0300 [SpringApplicationShutdownHook] INFO  (AbstractEntityManagerFactoryBean.java:650) - Closing JPA EntityManagerFactory for persistence unit 'default'
